# Migration `20200512172335`

This migration has been generated by loan-petit at 5/12/2020, 5:23:35 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User" (
"email" text  NOT NULL ,"firstName" text  NOT NULL ,"id" SERIAL,"lastName" text  NOT NULL ,"password" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Event" (
"cost" Decimal(65,30)  NOT NULL ,"description" text  NOT NULL ,"duration" integer  NOT NULL ,"generateClientSheet" boolean  NOT NULL ,"id" SERIAL,"name" text  NOT NULL ,"ownerId" integer   ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "User.email" ON "public"."User"("email")

CREATE UNIQUE INDEX "Event.name" ON "public"."Event"("name")

ALTER TABLE "public"."Event" ADD FOREIGN KEY ("ownerId")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200512172335
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,29 @@
+datasource db {
+  provider = "postgresql"
+  url      = env("POSTGRES_URL")
+  default  = true
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model User {
+  id        Int      @default(autoincrement()) @id
+  email     String   @unique
+  firstName String
+  lastName  String
+  password  String
+  events    Event[]
+}
+
+model Event {
+  id                  Int      @default(autoincrement()) @id
+  name                String   @unique
+  description         String
+  duration            Int
+  cost                Float
+  generateClientSheet Boolean
+  owner               User?    @relation(fields: [ownerId], references: [id])
+  ownerId             Int?
+}
```


